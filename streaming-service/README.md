# streaming-service
### Описание проекта
Проект streaming-сервис для таргетированной рассылки push-уведомлений в агрегаторе доставки еды.
- Обрабатывает потоковые сообщения о рекламных кампаниях ресторанов: читает из входного Kafka-топика, парсит JSON, фильтрует активные акции по текущему времени, объединяет с таблицей подписчиков из PostgreSQL, добавляет метку времени триггера и в батчах:
  - сохраняет записи в PostgreSQL (поле feedback) для последующей аналитики,
  - отправляет сериализованные JSON-сообщения в выходной Kafka-топик для триггерной доставки/уведомлений.
- Управляет ресурсами (persist/unpersist), использует чекпоинт для восстановления стрима.
### Стек технологий
- Apache Spark (Structured Streaming)
- Apache Kafka (входной и выходной топики)
- PostgreSQL — хранение подписчиков и записи результата
- Python (PySpark)
- Библиотеки/модули: pyspark.sql.functions, pyspark.sql.types, datetime, os
- Конфигурация через внешний модуль config (настройки Kafka, PostgreSQL, spark_jars_packages)
### Результат
Сервис обеспечивает актуальность уведомлений - пользователи получают информацию только о тех акциях, которые их действительно интересуют.
- Автоматизирована потоковая обработка данных об акциях из Kafka.
- Реализована запись результатов для аналитики в хранилище.
- Организована отправка шаблонов push‑уведомлений подписчикам об эксклюзивных акциях.
